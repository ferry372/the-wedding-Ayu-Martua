<!doctype html>
<html lang="id">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ayu & Martua Wedding</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Work+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">


    <!-- Countdown -->
    <link rel="stylesheet" href="countdown/default.css">
    <script src="countdown/simplyCountdown.umd.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>




<script type="module">


window.openGift = function () {
  document.getElementById("giftModal").style.display = "flex";
  document.body.classList.add("lock-scroll");
};

window.closeGift = function () {
  document.getElementById("giftModal").style.display = "none";
  document.body.classList.remove("lock-scroll");
};

window.copyText = function (id) {
  const text = document.getElementById(id).innerText;
  navigator.clipboard.writeText(text);
  alert("Nomor berhasil disalin");
};



/* =======================================================
   COVER SYSTEM
======================================================= */
window.addEventListener("load", () => {
    const cover = document.getElementById("cover");
    const openBtn = document.getElementById("btn-open");

    if (openBtn && cover) {
        openBtn.addEventListener("click", (e) => {
            e.preventDefault();
            cover.classList.add("hidden");

            setTimeout(() => {
                document.querySelector("#home").scrollIntoView({
                    behavior: "smooth"
                });
            }, 600);
        });
    }
});

//guest name
const params = new URLSearchParams(window.location.search);
const guest = params.get("to");

if (guest) {
  document.getElementById("guestName").innerText =
    decodeURIComponent(guest.replace(/\+/g, " "));
}
// scroll
  document.addEventListener("DOMContentLoaded", function () {
    document.body.classList.add("lock-scroll");

    const btnOpen = document.getElementById("btn-open");
    const cover = document.getElementById("cover");

    btnOpen.addEventListener("click", function (e) {
      e.preventDefault();

      // buka scroll
      document.body.classList.remove("lock-scroll");

      // sembunyikan cover TANPA bikin space
      cover.classList.add("opened");

      // scroll ke home
      document.querySelector("#home").scrollIntoView({
        behavior: "smooth"
      });
    });
  });



/* =======================================================
   FIREBASE CONFIG
======================================================= */
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, push, onChildAdded, remove } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    // ğŸ”¥ CONFIG FIREBASE KAMU (ASLI)
    const firebaseConfig = {
      apiKey: "AIzaSyBjcSiKWtD5SzQgrRoNsgZYykn2fqnL8xs",
      authDomain: "wedding-chat-fe997.firebaseapp.com",
      databaseURL: "https://wedding-chat-fe997-default-rtdb.firebaseio.com",
      projectId: "wedding-chat-fe997",
      storageBucket: "wedding-chat-fe997.firebasestorage.app",
      messagingSenderId: "563725524024",
      appId: "1:563725524024:web:a85e3fd7f5ea4888bb1acd",
      measurementId: "G-Q7W5PKRF6C"
    };

    // Init Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const msgRef = ref(db, "wedding_messages");

    // Kirim Pesan
    window.sendMessage = () => {
  const name = nameInput.value.trim() || "Tamu";
  const text = messageInput.value.trim();
  if (!text) return;

  const status =
    document.querySelector('input[name="kehadiran"]:checked')?.value || "Hadir";

  const now = new Date();
  const time = now.toLocaleTimeString("id-ID", {
    hour: "2-digit",
    minute: "2-digit"
  });

  push(chatRef, {
    name,
    text,
    status,
    time
  });

  messageInput.value = "";
};


    // Tampilkan Pesan Realtime
    onChildAdded(msgRef, (snapshot) => {
        const data = snapshot.val();
        const id = snapshot.key;

        const el = document.createElement("div");

        el.innerHTML = `
            <strong>${data.name}</strong><br>
            ${data.text}<br>
            <span class="time">${data.time}</span>
            <span class="delete-btn" onclick="deleteMsg('${id}')">Hapus</span>
        `;

        document.getElementById("chat-box").appendChild(el);
    });

    // Hapus pesan
    window.deleteMsg = function(id) {
        remove(ref(db, "wedding_messages/" + id));
        location.reload();
    };

// Folder database Firebase
const chatRef = ref(db, "wedding_messages");


/* =======================================================
   FRONTEND SYSTEM (SLIDER + LIVE CHAT)
======================================================= */
/* AUTO SLIDER */
let index = 0;
const slides = document.querySelectorAll('.slide');

setInterval(() => {
    slides[index].classList.remove('active');
    index = (index + 1) % slides.length;
    slides[index].classList.add('active');
}, 3000);

/* POPUP */
function openPopup(src) {
    document.getElementById('popup').style.display = 'flex';
    document.getElementById('popup-img').src = src;
}

function closePopup() {
    document.getElementById('popup').style.display = 'none';
}



    /* =====================================================
       CHAT SYSTEM (REAL TIME)
    ===================================================== */

    // Bubble builder
    function createBubble(id, data) {
    const item = document.createElement("div");
    item.className = "chat-item";
    item.dataset.id = id;

    const meta = document.createElement("div");
    meta.className = "chat-meta";

    // ğŸ¯ BADGE STATUS
    const badgeColor = data.status === "Hadir" ? "#28a745" : "#dc3545";

    meta.innerHTML = `
      <strong>${data.name}</strong>
      <span style="
        margin-left:6px;
        background:${badgeColor};
        color:#fff;
        font-size:11px;
        padding:3px 8px;
        border-radius:12px;
      ">
        ${data.status}
      </span>
      <span style="float:right;font-size:11px;color:#aaa">${data.time}</span>
    `;

    const del = document.createElement("span");
    del.className = "delete-btn";
    del.textContent = "ğŸ—‘";
    del.onclick = () => deleteMessage(id);

    meta.appendChild(del);

    const bubble = document.createElement("div");
    bubble.className = "chat-message";
    bubble.textContent = data.text;

    item.appendChild(meta);
    item.appendChild(bubble);

    return item;
}



    /* ---------- LOAD REAL-TIME DARI FIREBASE ---------- */
    onChildAdded(chatRef, (snapshot) => {
        const id = snapshot.key;
        const data = snapshot.val();

        chatBox.appendChild(createBubble(id, data));
        chatBox.scrollTop = chatBox.scrollHeight;
    });


    /* ---------- HAPUS PESAN ---------- */
    function deleteMessage(id) {
        remove(ref(db, "wedding_messages/" + id));

        const item = document.querySelector(`.chat-item[data-id="${id}"]`);
        if (item) item.remove();
    }


    /* ---------- KIRIM PESAN ---------- */
    window.sendMessage = function () {
  const name = nameInput?.value.trim() || "Tamu";
  const text = messageInput?.value.trim();
  if (!text) return;

  const status =
    document.querySelector('input[name="kehadiran"]:checked')?.value || "Hadir";

  const now = new Date();
  const time = now.toLocaleTimeString("id-ID", {
    hour: "2-digit",
    minute: "2-digit"
  });

  push(chatRef, { name, text, status, time });
  messageInput.value = "";
};


    /* ---------- ENTER UNTUK KIRIM ---------- */
    inputMessage?.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
            e.preventDefault();
            sendMessage();
        }
    });

</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const music = document.getElementById("bgMusic");
  const btnMusic = document.getElementById("musicBtn");
  const btnOpen = document.getElementById("btn-open");

  let isPlaying = false;

  // Klik buka undangan â†’ PLAY
  btnOpen.addEventListener("click", () => {
    music.volume = 0.8;
    music.play().then(() => {
      isPlaying = true;
      btnMusic.textContent = "ğŸ”Š";
    }).catch(err => {
      console.log("Autoplay ditolak:", err);
    });
  });

  // Tombol mute / play
  btnMusic.addEventListener("click", () => {
    if (isPlaying) {
      music.pause();
      btnMusic.textContent = "ğŸ”‡";
    } else {
      music.play();
      btnMusic.textContent = "ğŸ”Š";
    }
    isPlaying = !isPlaying;
  });
});
</script>





<!-- ======================================= -->
<!-- 1. COVER AWAL (DESAIN BARU) -->
<!-- ======================================= -->
<section id="cover" class="cover">
  <div class="overlay"></div>

  <main class="cover-content text-center">
    <h4 class="cover-subtitle">The Wedding Of</h4>
    <h1 class="cover-title">Ayu & Martua</h1>
    <p class="cover-date">Minggu, 25 Januari 2026</p>

    <p class="cover-to">Kepada Yth.</p>
    <h3 class="guest-name" id="guestName">Tamu Undangan</h3>

    <a href="#home" id="btn-open" class="btn-open">
      Buka Undangan
    </a>

    <small class="cover-note">
      Mohon maaf apabila terdapat kesalahan penulisan nama/gelar
    </small>
  </main>
</section>


<!-- BUTTON MUSIC -->
<audio id="bgMusic" loop preload="auto">
  <source src="cinta-terakhir.mp3" type="audio/mpeg">
</audio>

<div class="music-control" id="musicBtn">
  ğŸ”Š
</div>


<!-- ======================================= -->
<!-- 2. MENU UTAMA -->
<!-- ======================================= -->

<section id="home" class="hero">
  <div class="hero-overlay"></div>

  <div class="hero-text">
    <p class="hero-subtitle">The Wedding Of</p>

    <h1 class="hero-names">
      <span class="name-ayu">Ayu</span>
      <span class="ampersand">&</span>
      <span class="name-martua">Martua</span>
    </h1>
  </div>


</section>


<section id="ayat" class="ayat-section">
  <div class="ayat-card">

    <div class="ayat-text">
      <p>
        Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan
        pasangan-pasangan untukmu dari jenismu sendiri, agar kamu cenderung
        dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa
        kasih dan sayang.
      </p>

      <span class="ayat-source">QS. Ar-Rum : 21</span>
    </div>

    <div class="ayat-image">
      <img src="img/gambar13.jpg" alt="Ayu & Martua">
    </div>

  </div>
</section>


<!-- ======================================= -->
<!-- 3. PROFIL PRIA -->
<!-- ======================================= -->
<section class="profil-wrapper">

  <!-- Groom -->
  <div class="profil-card">
    <div class="profil-foto">
      <img src="img/bg-martua.jpg" alt="Martua Raja Siregar">
    </div>

    <h3 class="profil-nama">Martua Raja Siregar</h3>
    <span class="underline"></span>

    <div class="profil-detail">
      <p><strong>Nama Panggilan:</strong> Raja</p>
      <p><strong>Orang Tua:</strong> Alm. Bapak Ali Imran Siregar & Ibu Nurhamidah Daulay</p>
      <p><strong>Putra Ke:</strong> 7</p>
    </div>
  </div>

  <!-- Bride -->
  <div class="profil-card">
    <div class="profil-foto">
      <img src="img/Ayu.jpg" alt="Ayu Ifani Nasution">
    </div>

    <h3 class="profil-nama">Ayu Ifani Nasution</h3>
    <span class="underline"></span>

    <div class="profil-detail">
      <p><strong>Nama Panggilan:</strong> Ayu</p>
      <p><strong>Orang Tua:</strong> Bapak Idris Nasution & Ibu Fatimah Lubis</p>
      <p><strong>Puti Ke:</strong> 2</p>
    </div>
  </div>

</section>

<section class="hero">
    <img src="img/gambar13.jpg" alt="Wedding Photo" class="hero-img">
</section>

<section class="content">
    <h1 class="salam">Assalamualaikum Warahmatullahi Wabarakatuh</h1>
    <p class="text">
        Atas Karunia Tuhan Yang Maha Esa, perkenankanlah kami menyampaikan kabar bahagia
        kepada Bapak/Ibu/Saudara/i mengenai pernikahan kami yang akan dilaksanakan pada:
    </p>
</section>


<!-- ======================================= -->
<!-- 5. RESEPSI -->
<!-- ======================================= -->
<section id="acara" class="acara-section">

    <div class="acara-header">
        <h2 class="save-title">SAVE THE DATE</h2>
        <div class="garis-atas"></div>
    </div>

    <div class="acara-content">

        <!-- AKAD NIKAH -->
        <div class="acara-card">
            <div class="icon">â¤</div>
            <h3>Akad Nikah</h3>
            <div class="divider"></div>

            <p class="tanggal">Minggu, 25 Januari 2026</p>
            <p class="waktu">08.00 WIB</p>

            <div class="divider small"></div>

            <p class="lokasi">
                Jalan Sukmo Desa Kolam
            </p>

            <a href="https://maps.app.goo.gl/vy3JEJrCTE9SFNsF6" 
               target="_blank"
               class="btn-lokasi">Lihat Lokasi</a>
        </div>

        <!-- RESEPSI -->
        <div class="acara-card">
            <div class="icon">ğŸ¤</div>
            <h3>Resepsi</h3>
            <div class="divider"></div>

            <p class="tanggal">Minggu, 25 Januari 2026</p>
            <p class="waktu">10.00 WIB - Selesai</p>

            <div class="divider small"></div>

            <p class="lokasi">
                Jalan Sukmo Desa Kolam
            </p>

            <a href="https://maps.app.goo.gl/vy3JEJrCTE9SFNsF6" 
               target="_blank"
               class="btn-lokasi">Lihat Lokasi</a>
        </div>

    </div>
</section>


<section class="countdown-section">
    <div class="countdown-card">

        <!-- FOTO -->
        <div class="countdown-image">
            <img src="img/love-story.jpg" alt="Foto Prewedding">
        </div>

        <!-- JUDUL -->
        <h2 class="countdown-title">Menuju Hari Bahagia</h2>

         <!-- Countdown -->
        <div class="simply-countdown"></div>

    </div>
</section>


<!-- ======================================= -->
<!-- 10. UCAPAN -->
<!-- ======================================= -->
<section id="ucapan" class="ucapan-container">

  <h3 class="judul-ucapan">Ucapan & Doa</h3>

  <!-- FORM INPUT -->
  <div class="chat-input">

    <!-- STATUS HADIR -->
   <div class="status-hadir">
  <label>
    <input type="radio" name="kehadiran" value="Hadir" checked>
    Hadir
  </label>
  <label>
    <input type="radio" name="kehadiran" value="Tidak Hadir">
    Tidak Hadir
  </label>
</div>
    
    <input type="text" id="nameInput" placeholder="Nama kamu..." />

    <textarea id="messageInput" placeholder="Tulis ucapan & doa..."></textarea>

    <button onclick="sendMessage()">Kirim</button>
  </div>

  <!-- TEMPAT KOMENTAR -->
  <div id="chatBox" class="chat-box">
  </div>

</section>

<section id="galeri" class="galeri-section">

    <h2 class="galeri-title">Our Gallery</h2>

    <!-- SLIDER ATAS -->
    <div class="slider-container">
        <div class="slider" id="slider">
            <img src="img/gambar3.jpg" class="slide active">
            <img src="img/gambar4.jpg" class="slide">
            <img src="img/gambar2.jpg" class="slide">
            <img src="img/gamabr7.jpg" class="slide">
            <img src="img/gambar8.jpg" class="slide">
            <img src="img/gambar9.jpg" class="slide">
            <img src="img/gambar10.jpg" class="slide">
            <img src="img/gambar11.jpg" class="slide">
            <img src="img/gambar12.jpg" class="slide">
            <img src="img/gambar13.jpg" class="slide">
        </div>
    </div>

    <!-- THUMBNAIL -->
    <div class="thumbnail-container">
        <img src="img/gambar3.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gambar4.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gambar2.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gamabr7.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gambar8.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gambar9.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gambar10.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gambar11.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gambar12.jpg" class="thumb" onclick="openPopup(this.src)">
        <img src="img/gambar13.jpg" class="thumb" onclick="openPopup(this.src)">
    </div>

</section>

<!-- POPUP IMAGE -->
<div class="popup" id="popup">
    <span class="close" onclick="closePopup()">&times;</span>
    <img id="popup-img">
</div>


<!-- ======================================= -->
<!-- 8. AMPLOP DIGITAL -->
<!-- ======================================= -->
<section class="gift-wrapper">

  <div class="gift-main">
    <div class="gift-icon">ğŸ</div>
    <h2 class="gift-title">TANDA KASIH</h2>

    <p class="gift-text">
      Doa restu keluarga, sahabat, serta rekan-rekan semua di pernikahan kami
      sudah sangat cukup sebagai hadiah, namun jika memberi merupakan tanda kasih,
      kami dengan senang hati menerimanya dan tentunya semakin melengkapi kebahagiaan kami.
    </p>

    <button class="gift-btn" onclick="openGift()">ğŸ KIRIM HADIAH</button>
  </div>

</section>


<div class="gift-modal" id="giftModal">
  <div class="gift-modal-content">

    <span class="close-modal" onclick="closeGift()">&times;</span>

    <h3>Kirim Kado Digital</h3>
    <p>Terima kasih atas doa dan dukungan Anda</p>

    <!-- GOPAY -->
    <div class="gift-card">
      <img src="img/gopay-removebg-preview.png">
      <div class="gift-info">
        <strong>Martua Raja Siregar</strong>
        <span id="gopay">+62 881-9655-8530</span>
      </div>
      <button onclick="copyText('gopay')">Salin</button>
    </div>

    <!-- BANK 1 -->
    <div class="gift-card">
      <img src="img/cimb.png">
      <div class="gift-info">
        <strong>Martua Raja Siregar</strong>
        <span id="bank1">703499362200</span>
      </div>
      <button onclick="copyText('bank1')">Salin</button>
    </div>

    <!-- BANK 2 -->
    <div class="gift-card">
      <img src="img/cimb.png">
      <div class="gift-info">
        <strong>Ayu Ifani Nasution</strong>
        <span id="bank2">763466733200</span>
      </div>
      <button onclick="copyText('bank2')">Salin</button>
    </div>

  </div>
</div>

<!-- ======================================= -->
<!-- LOVE STORY -->
<!-- ======================================= -->
<section id="love-story" class="love-story-section">

  <h2 class="love-story-title">Love Story</h2>
  <p class="love-story-subtitle">Perjalanan kisah kami</p>

  <div class="love-story-container">

    <div class="story-card">
      <span class="story-year">2016 â€¢ Awal</span>
      <p>
        Kami pertama kali berjumpa sebagai teman kerja di toko yang sama.
        Sebuah pertemuan sederhana yang tanpa disadari menjadi awal kisah kami.
      </p>
    </div>

    <div class="story-card">
      <span class="story-year">2018 â€¢ Akhir</span>
      <p>
        Kami harus terpisah karena Abang berpindah tempat kerja.
        Sejak saat itu, tidak ada komunikasi dan masing-masing menjalani kehidupan sendiri.
      </p>
    </div>

    <div class="story-card">
      <span class="story-year">2021 â€¢ Akhir</span>
      <p>
        Takdir kembali mempertemukan kami di satu toko tempat kerja yang sama.
        Pertemuan ini membawa kembali cerita yang sempat terhenti.
      </p>
    </div>

    <div class="story-card">
      <span class="story-year">2022 â€¢ Awal</span>
      <p>
        Kami mulai saling mendekat dan mengenal lebih dalam.
        Pada tanggal <strong>12 April 2022</strong>, kami memutuskan
        untuk menjalin hubungan ke arah yang lebih serius.
      </p>
    </div>

    <div class="story-card">
      <span class="story-year">11 Oktober 2025</span>
      <p>
        Prosesi hantaran dilaksanakan sebagai wujud keseriusan dan komitmen,
        dengan restu dari keluarga tercinta.
      </p>
    </div>

    <div class="story-card highlight">
      <span class="story-year">25 Januari 2026</span>
      <p>
        Dengan penuh rasa syukur dan cinta, kami memilih tanggal ini
        untuk melangsungkan pernikahan dan memulai perjalanan hidup bersama.
      </p>
    </div>

  </div>

</section>



<section class="thankyou-section">
    <div class="thankyou-content">
    <h2 class="thankyou-title">
      THANK <span>You</span>
    </h2>

  <div class="thankyou-image">
    <img src="img/gambar1.jpg" alt="Sampai Jumpa di Hari Bahagia Kami">
    <p class="image-caption">Sampai jumpa di Hari Bahagia Kami</p>
  </div>

    <p class="thankyou-text">
      Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila
      Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu
      kepada kedua mempelai
    </p>

    <p class="closing">
      Wassalamuâ€™alaikum Warahmatullahi Wabarakatuh.
    </p>
  </div>
</section>


</section>

<footer class="designer-footer reveal delay-1">

  <p class="designed-text">designed by</p>

  <div class="ring-container">
    <div class="ring"></div>

    <div class="logo-center">
      <img src="img/ferry.jpg" alt="Ferry Logo">
      <p class="designer-name">Ferry<br><span>Nasution</span></p>
    </div>
  </div>

  <div class="social-icons">
    <a href="https://wa.me/6281273396237" target="_blank">
      <img src="img/whatsapp.png" alt="WhatsApp">
    </a>
    <a href="https://instagram.com/usernamekamu" target="_blank">
      <img src="img/instagram.png" alt="Instagram">
    </a>
  </div>

</footer>

</section>


<script>
    simplyCountdown('.simply-countdown', {
        year: 2026,
        month: 1,
        day: 25,
        hours: 9,
    });
</script>



</body>
</html>
